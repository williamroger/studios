<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="toBackRoomDetails()">
        <ion-icon name="arrow-back"></ion-icon>
        Voltar
      </ion-button>
    </ion-buttons>
    <ion-title>Agendamento</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- [ngStyle]="{'background-image': 'url('+image+')'}" -->
  <div class="room-cover" [ngStyle]="{'background-image': 'url(./assets/room-default.jpg)'}">
  </div>

  <div class="ion-padding">
    <div class="scheduling">
      <h1 class="scheduling__title">Agendar Ensaio</h1>
      
      <ion-label position="stacked">Sala Escolhida</ion-label>
      <h2 class="scheduling__room-name">{{ room.name }}</h2>
      <p class="scheduling__studio-name">{{ studio.name }}</p>
      <div class="scheduling__room-capacity">
        <ion-icon name="people"></ion-icon>
        <p>Comporta até {{ room.maximum_capacity }} pessoas</p>
      </div>
      
      <form [formGroup]="schedulingForm">
        <ion-input type="text" formControlName="date_scheduling" class="dateScheduling"></ion-input>
        
        <ion-label position="stacked">Selecionar Data</ion-label>
        <ion-datetime [min]="minDatetime" [max]="maxDatetime" value="{{ dateScheduling | date: 'yyyy-MM-dd' }}"
          displayFormat="DD MMMM YYYY" cancelText="Cancelar" doneText="Ok" (ionChange)="changeDateSchedule($event)"
          [monthNames]="monthNames">
        </ion-datetime>
        
        <ion-label position="stacked">Horários Disponíveis</ion-label>
        <ion-radio-group allow-empty-selection="true" name="radio-group" (ionChange)="radioGroup($event)">
          <ion-item *ngFor="let period of periods">
            <ion-label>{{period.begin_period + " - " + period.end_period}}</ion-label>
            <ion-radio slot="end" color="primary" value="{{period.id}}" formControlName="time_period_id"></ion-radio>
          </ion-item>
        </ion-radio-group>
        
        <div>
          <ion-label>Observações</ion-label>
          <ion-textarea formControlName="comment" rows="6" cols="20"></ion-textarea>
        </div>
        <ion-button (click)="submitForm()">Agendar</ion-button>
      </form>
      <pre>{{ schedulingForm.value | json }}</pre>
    </div>
  </div>

</ion-content>
